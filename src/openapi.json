{
  "openapi": "3.1.0",
  "info": {
    "title": "MirrorX Intelligence API",
    "version": "1.2.0",
    "description": "Provides live market, social, and intelligence data for the MirrorX AI and custom GPT integrations."
  },
  "servers": [
    {
      "url": "https://mirrorx-backend.onrender.com"
    }
  ],
  "paths": {
    "/healthz": {
      "get": {
        "summary": "Check system health",
        "operationId": "get_healthz",
        "responses": {
          "200": {
            "description": "Backend health status",
            "content": {
              "application/json": {
                "example": { "ok": true, "status": "operational" }
              }
            }
          }
        }
      }
    },
    "/crypto/solana": {
      "get": {
        "summary": "Fetch Solana ecosystem market data",
        "operationId": "get_crypto_solana",
        "responses": {
          "200": {
            "description": "List of Solana tokens and their metrics",
            "content": {
              "application/json": {
                "example": {
                  "updated": "now",
                  "tokens": [
                    {
                      "symbol": "BONK",
                      "name": "Bonk",
                      "price": 0.00000751,
                      "volume_24h": 46720386.54,
                      "change_24h": 3.21
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/intel/summary": {
      "get": {
        "summary": "Fetch summarized intelligence data",
        "operationId": "get_intel_summary",
        "responses": {
          "200": {
            "description": "Aggregated crypto, social, and on-chain intelligence",
            "content": {
              "application/json": {
                "example": {
                  "status": "ok",
                  "summary": {
                    "topSentiment": ["BONK", "WIF", "MYRO"],
                    "socialBuzz": { "twitter": 320, "discord": 148 },
                    "walletFlows": { "inflow": 42, "outflow": 27 }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/intel/full": {
      "get": {
        "summary": "Fetch full intelligence dataset",
        "operationId": "get_intel_full",
        "responses": {
          "200": {
            "description": "Full dataset including Discord, Telegram, Commerce, Geo, and Weather layers",
            "content": {
              "application/json": {
                "example": {
                  "status": "ok",
                  "intel": {
                    "discord": [{ "token": "WIF", "mentions": 530 }],
                    "telegram": [{ "token": "BONK", "activeChats": 42 }],
                    "commerce": [{ "symbol": "SOL", "retailIndex": 1.08 }],
                    "geo": { "US": "neutral", "ASIA": "bullish" },
                    "weather": { "sentimentEffect": "positive" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/twitterRapid/likes": {
      "get": {
        "summary": "Fetch Twitter likes using RapidAPI integration",
        "operationId": "get_twitterRapid_likes",
        "parameters": [
          {
            "name": "pid",
            "in": "query",
            "schema": { "type": "string" },
            "required": true,
            "description": "Twitter post ID"
          },
          {
            "name": "count",
            "in": "query",
            "schema": { "type": "integer" },
            "required": false,
            "description": "Number of results to retrieve (default 5)"
          }
        ],
        "responses": {
          "200": {
            "description": "List of users who liked the specified post",
            "content": {
              "application/json": {
                "example": {
                  "postId": "mirrorx_demo_post",
                  "likesCount": 5,
                  "users": [
                    { "username": "solana_alpha" },
                    { "username": "bonk_whale" }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/fusion/market-intel": {
      "get": {
        "summary": "Get live Fusion Market Intelligence",
        "operationId": "get_fusion_market_intel",
        "description": "Returns aggregated Solana ecosystem and meme-coin data from CoinMarketCap, CryptoCompare, and DexScreener. Includes price, 24h volume, % change, and DEX liquidity.",
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "schema": { "type": "string" },
            "required": false,
            "description": "Optional search term (e.g. SOL, BONK/USDC) to filter specific tokens"
          }
        ],
        "responses": {
          "200": {
            "description": "Unified market intelligence feed",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "updated": { "type": "string" },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "symbol": { "type": "string" },
                          "name": { "type": "string" },
                          "price": { "type": "number" },
                          "cmcVolume": { "type": "number" },
                          "ccChange24h": { "type": "number" },
                          "dexLiquidity": { "type": ["number", "null"] }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "updated": "now",
                  "data": [
                    {
                      "symbol": "SOL",
                      "name": "Solana",
                      "price": 124.21,
                      "cmcVolume": 3618334528.45,
                      "ccChange24h": 0.27,
                      "dexLiquidity": 1532421.22
                    },
                    {
                      "symbol": "BONK",
                      "name": "Bonk",
                      "price": 0.00000751,
                      "cmcVolume": 46720386.54,
                      "ccChange24h": 3.21,
                      "dexLiquidity": 534281.77
                    }
                  ]
                }
              }
            }
          }
        }
      }
    }
  }
}
